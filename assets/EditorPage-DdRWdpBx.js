import{Q as Ie,c as ht,b as He}from"./QBtn-D8n9-HQ9.js";import{u as pt,r as P,a as me,w as N,c as b,g as J,Q as yt,i as bt,f as se,R as wt,S as Ct,T as $e,m as Oe,n as W,y as kt,z as xt,h as S,U as oe,V as Ae,l as St,W as K,q as ge,X as fe,Y as Ne,Z as Ue,o as qt,$ as _t,x as te,a0 as Et,k as Mt,a1 as Vt,a2 as Ft,a3 as xe,a4 as Se,v as Rt,a5 as he,a6 as Be,a7 as At,d as Bt,a8 as Tt,s as Pt,L as je,I as X,F as ee,N as $t,J as Ot,E as zt,O as Lt,G as Dt,H as qe}from"./index-Cpn8SdtE.js";import{Q as It,a as G,v as Ht,c as Nt,h as Ut}from"./QSpinner-B9cWAwdT.js";import{u as Te,c as jt,b as Qt,h as Kt,a as Yt,Q as Zt}from"./scroll-CTi-jPTW.js";import{a as dt,b as ct,u as Xt,l as Wt,Q as Gt}from"./EditorStore-LpKukdKD.js";import{Q as Jt}from"./QCardActions-xRTcofjT.js";import{Q as el}from"./QCard-C4uw_wSC.js";import{u as tl}from"./use-timeout-CVQh2mYH.js";import{Q as ll}from"./QPage-D8CP-JXa.js";import{U as ol}from"./UDIVis-DE2R6Dy_.js";import{_ as nl}from"./_plugin-vue_export-helper-DlAUqK2U.js";function al(e){return e??null}function Qe(e,t){return e??(t===!0?`f_${Te()}`:null)}function rl({getValue:e,required:t=!0}={}){if(pt.value===!0){const n=e!==void 0?P(al(e())):P(null);return t===!0&&n.value===null&&me(()=>{n.value=`f_${Te()}`}),e!==void 0&&N(e,a=>{n.value=Qe(a,t)}),n}return e!==void 0?b(()=>Qe(e(),t)):P(`f_${Te()}`)}const Ke=/^on[A-Z]/;function il(){const{attrs:e,vnode:t}=J(),n={listeners:P({}),attributes:P({})};function a(){const l={},o={};for(const r in e)r!=="class"&&r!=="style"&&Ke.test(r)===!1&&(l[r]=e[r]);for(const r in t.props)Ke.test(r)===!0&&(o[r]=t.props[r]);n.attributes.value=l,n.listeners.value=o}return yt(a),a(),n}function ul({validate:e,resetValidation:t,requiresQForm:n}){const a=bt(wt,!1);if(a!==!1){const{props:l,proxy:o}=J();Object.assign(o,{validate:e,resetValidation:t}),N(()=>l.disable,r=>{r===!0?(typeof t=="function"&&t(),a.unbindComponent(o)):a.bindComponent(o)}),me(()=>{l.disable!==!0&&a.bindComponent(o)}),se(()=>{l.disable!==!0&&a.unbindComponent(o)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ye=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ze=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Xe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,pe=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ye=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,_e={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ye.test(e),hexaColor:e=>Ze.test(e),hexOrHexaColor:e=>Xe.test(e),rgbColor:e=>pe.test(e),rgbaColor:e=>ye.test(e),rgbOrRgbaColor:e=>pe.test(e)||ye.test(e),hexOrRgbColor:e=>Ye.test(e)||pe.test(e),hexaOrRgbaColor:e=>Ze.test(e)||ye.test(e),anyColor:e=>Xe.test(e)||pe.test(e)||ye.test(e)},sl=[!0,!1,"ondemand"],dl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>sl.includes(e)}};function cl(e,t){const{props:n,proxy:a}=J(),l=P(!1),o=P(null),r=P(!1);ul({validate:$,resetValidation:w});let f=0,m;const c=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),h=b(()=>n.disable!==!0&&c.value===!0&&t.value===!1),g=b(()=>n.error===!0||l.value===!0),T=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:o.value);N(()=>n.modelValue,()=>{r.value=!0,h.value===!0&&n.lazyRules===!1&&V()});function k(){n.lazyRules!=="ondemand"&&h.value===!0&&r.value===!0&&V()}N(()=>n.reactiveRules,L=>{L===!0?m===void 0&&(m=N(()=>n.rules,k,{immediate:!0,deep:!0})):m!==void 0&&(m(),m=void 0)},{immediate:!0}),N(()=>n.lazyRules,k),N(e,L=>{L===!0?r.value=!0:h.value===!0&&n.lazyRules!=="ondemand"&&V()});function w(){f++,t.value=!1,r.value=!1,l.value=!1,o.value=null,V.cancel()}function $(L=n.modelValue){if(n.disable===!0||c.value===!1)return!0;const y=++f,j=t.value!==!0?()=>{r.value=!0}:()=>{},Q=(F,R)=>{F===!0&&j(),l.value=F,o.value=R||null,t.value=!1},A=[];for(let F=0;F<n.rules.length;F++){const R=n.rules[F];let I;if(typeof R=="function"?I=R(L,_e):typeof R=="string"&&_e[R]!==void 0&&(I=_e[R](L)),I===!1||typeof I=="string")return Q(!0,I),!1;I!==!0&&I!==void 0&&A.push(I)}return A.length===0?(Q(!1),!0):(t.value=!0,Promise.all(A).then(F=>{if(F===void 0||Array.isArray(F)===!1||F.length===0)return y===f&&Q(!1),!0;const R=F.find(I=>I===!1||typeof I=="string");return y===f&&Q(R!==void 0,R),R===void 0},F=>(y===f&&(console.error(F),Q(!0)),!1)))}const V=Ct($,0);return se(()=>{m!==void 0&&m(),V.cancel()}),Object.assign(a,{resetValidation:w,validate:$}),$e(a,"hasError",()=>g.value),{isDirtyModel:r,hasRules:c,hasError:g,errorMessage:T,validate:$,resetValidation:w}}let ne=[],ve=[];function ft(e){ve=ve.filter(t=>t!==e)}function fl(e){ft(e),ve.push(e)}function We(e){ft(e),ve.length===0&&ne.length!==0&&(ne[ne.length-1](),ne=[])}function ze(e){ve.length===0?e():ne.push(e)}function vl(e){ne=ne.filter(t=>t!==e)}function Pe(e){return e!=null&&(""+e).length!==0}const ml={...dt,...dl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},gl={...ml,maxlength:[Number,String]},hl=["update:modelValue","clear","focus","blur"];function pl({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:a,proxy:l}=J(),o=ct(a,l.$q),r=rl({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?b(()=>a.tag):{value:"label"},isDark:o,editable:b(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:il(),targetUid:r,rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function yl(e){const{props:t,emit:n,slots:a,attrs:l,proxy:o}=J(),{$q:r}=o;let f=null;e.hasValue===void 0&&(e.hasValue=b(()=>Pe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=v=>{n("update:modelValue",v)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:d,onFocusout:s}),Object.assign(e,{clearValue:p,onControlFocusin:d,onControlFocusout:s,focus:R}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const v=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,x=t.maxlength!==void 0?t.maxlength:t.maxValues;return v+(x!==void 0?" / "+x:"")}}));const{isDirtyModel:m,hasRules:c,hasError:h,errorMessage:g,resetValidation:T}=cl(e.focused,e.innerLoading),k=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),w=b(()=>t.bottomSlots===!0||t.hint!==void 0||c.value===!0||t.counter===!0||t.error!==null),$=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),V=b(()=>`q-field row no-wrap items-start q-field--${$.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(k.value===!0?" q-field--float":"")+(y.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(h.value===!0?" q-field--error":"")+(h.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&w.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),L=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(h.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),y=b(()=>t.labelSlot===!0||t.label!==void 0),j=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&h.value!==!0?` text-${t.labelColor}`:"")),Q=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:k.value,modelValue:t.modelValue,emitValue:e.emitValue})),A=b(()=>{const v={};return e.targetUid.value&&(v.for=e.targetUid.value),t.disable===!0&&(v["aria-disabled"]="true"),v});function F(){const v=document.activeElement;let x=e.targetRef!==void 0&&e.targetRef.value;x&&(v===null||v.id!==e.targetUid.value)&&(x.hasAttribute("tabindex")===!0||(x=x.querySelector("[tabindex]")),x&&x!==v&&x.focus({preventScroll:!0}))}function R(){ze(F)}function I(){vl(F);const v=document.activeElement;v!==null&&e.rootRef.value.contains(v)&&v.blur()}function d(v){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",v))}function s(v,x){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",v)),x!==void 0&&x())})}function p(v){Oe(v),r.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),W(()=>{const x=m.value;T(),m.value=x})}function u(v){[13,32].includes(v.keyCode)&&p(v)}function E(){const v=[];return a.prepend!==void 0&&v.push(S("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:oe},a.prepend())),v.push(S("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},q())),h.value===!0&&t.noErrorIcon===!1&&v.push(_("error",[S(Ie,{name:r.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?v.push(_("inner-loading-append",a.loading!==void 0?a.loading():[S(It,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&v.push(_("inner-clearable-append",[S(Ie,{class:"q-field__focusable-action",name:t.clearIcon||r.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":r.lang.label.clear,onKeyup:u,onClick:p})])),a.append!==void 0&&v.push(S("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:oe},a.append())),e.getInnerAppend!==void 0&&v.push(_("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&v.push(e.getControlChild()),v}function q(){const v=[];return t.prefix!==void 0&&t.prefix!==null&&v.push(S("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&v.push(e.getShadowControl()),e.getControl!==void 0?v.push(e.getControl()):a.rawControl!==void 0?v.push(a.rawControl()):a.control!==void 0&&v.push(S("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(Q.value))),y.value===!0&&v.push(S("div",{class:j.value},G(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&v.push(S("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),v.concat(G(a.default))}function z(){let v,x;h.value===!0?g.value!==null?(v=[S("div",{role:"alert"},g.value)],x=`q--slot-error-${g.value}`):(v=G(a.error),x="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(v=[S("div",t.hint)],x=`q--slot-hint-${t.hint}`):(v=G(a.hint),x="q--slot-hint"));const B=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&B===!1&&v===void 0)return;const O=S("div",{key:x,class:"q-field__messages col"},v);return S("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:oe},[t.hideBottomSpace===!0?O:S(Ae,{name:"q-transition--field-message"},()=>O),B===!0?S("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function _(v,x){return x===null?null:S("div",{key:v,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},x)}let M=!1;return kt(()=>{M=!0}),xt(()=>{M===!0&&t.autofocus===!0&&o.focus()}),t.autofocus===!0&&me(()=>{o.focus()}),se(()=>{f!==null&&clearTimeout(f)}),Object.assign(o,{focus:R,blur:I}),function(){const x=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...A.value}:A.value;return S(e.tag.value,{ref:e.rootRef,class:[V.value,l.class],style:l.style,...x},[a.before!==void 0?S("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:oe},a.before()):null,S("div",{class:"q-field__inner relative-position col self-stretch"},[S("div",{ref:e.controlRef,class:L.value,tabindex:-1,...e.controlEvents},E()),w.value===!0?z():null]),a.after!==void 0?S("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:oe},a.after()):null])}}const Ge={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Ce={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},vt=Object.keys(Ce);vt.forEach(e=>{Ce[e].regex=new RegExp(Ce[e].pattern)});const bl=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+vt.join("")+"])|(.)","g"),Je=/[.*+?^${}()|[\]\\]/g,U="",wl={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Cl(e,t,n,a){let l,o,r,f,m,c;const h=P(null),g=P(k());function T(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,$),N(()=>e.mask,d=>{if(d!==void 0)V(g.value,!0);else{const s=R(g.value);$(),e.modelValue!==s&&t("update:modelValue",s)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{h.value===!0&&V(g.value,!0)}),N(()=>e.unmaskedValue,()=>{h.value===!0&&V(g.value)});function k(){if($(),h.value===!0){const d=A(R(e.modelValue));return e.fillMask!==!1?I(d):d}return e.modelValue}function w(d){if(d<l.length)return l.slice(-d);let s="",p=l;const u=p.indexOf(U);if(u!==-1){for(let E=d-p.length;E>0;E--)s+=U;p=p.slice(0,u)+s+p.slice(u)}return p}function $(){if(h.value=e.mask!==void 0&&e.mask.length!==0&&T(),h.value===!1){f=void 0,l="",o="";return}const d=Ge[e.mask]===void 0?e.mask:Ge[e.mask],s=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",p=s.replace(Je,"\\$&"),u=[],E=[],q=[];let z=e.reverseFillMask===!0,_="",M="";d.replace(bl,(O,i,D,Y,Z)=>{if(Y!==void 0){const C=Ce[Y];q.push(C),M=C.negate,z===!0&&(E.push("(?:"+M+"+)?("+C.pattern+"+)?(?:"+M+"+)?("+C.pattern+"+)?"),z=!1),E.push("(?:"+M+"+)?("+C.pattern+")?")}else if(D!==void 0)_="\\"+(D==="\\"?"":D),q.push(D),u.push("([^"+_+"]+)?"+_+"?");else{const C=i!==void 0?i:Z;_=C==="\\"?"\\\\\\\\":C.replace(Je,"\\\\$&"),q.push(C),u.push("([^"+_+"]+)?"+_+"?")}});const v=new RegExp("^"+u.join("")+"("+(_===""?".":"[^"+_+"]")+"+)?"+(_===""?"":"["+_+"]*")+"$"),x=E.length-1,B=E.map((O,i)=>i===0&&e.reverseFillMask===!0?new RegExp("^"+p+"*"+O):i===x?new RegExp("^"+O+"("+(M===""?".":M)+"+)?"+(e.reverseFillMask===!0?"$":p+"*")):new RegExp("^"+O));r=q,f=O=>{const i=v.exec(e.reverseFillMask===!0?O:O.slice(0,q.length+1));i!==null&&(O=i.slice(1).join(""));const D=[],Y=B.length;for(let Z=0,C=O;Z<Y;Z++){const H=B[Z].exec(C);if(H===null)break;C=C.slice(H.shift().length),D.push(...H)}return D.length!==0?D.join(""):O},l=q.map(O=>typeof O=="string"?O:U).join(""),o=l.split(U).join(s)}function V(d,s,p){const u=a.value,E=u.selectionEnd,q=u.value.length-E,z=R(d);s===!0&&$();const _=A(z),M=e.fillMask!==!1?I(_):_,v=g.value!==M;u.value!==M&&(u.value=M),v===!0&&(g.value=M),document.activeElement===u&&W(()=>{if(M===o){const B=e.reverseFillMask===!0?o.length:0;u.setSelectionRange(B,B,"forward");return}if(p==="insertFromPaste"&&e.reverseFillMask!==!0){const B=u.selectionEnd;let O=E-1;for(let i=m;i<=O&&i<B;i++)l[i]!==U&&O++;y.right(u,O);return}if(["deleteContentBackward","deleteContentForward"].indexOf(p)!==-1){const B=e.reverseFillMask===!0?E===0?M.length>_.length?1:0:Math.max(0,M.length-(M===o?0:Math.min(_.length,q)+1))+1:E;u.setSelectionRange(B,B,"forward");return}if(e.reverseFillMask===!0)if(v===!0){const B=Math.max(0,M.length-(M===o?0:Math.min(_.length,q+1)));B===1&&E===1?u.setSelectionRange(B,B,"forward"):y.rightReverse(u,B)}else{const B=M.length-q;u.setSelectionRange(B,B,"backward")}else if(v===!0){const B=Math.max(0,l.indexOf(U),Math.min(_.length,E)-1);y.right(u,B)}else{const B=E-1;y.right(u,B)}});const x=e.unmaskedValue===!0?R(M):M;String(e.modelValue)!==x&&(e.modelValue!==null||x!=="")&&n(x,!0)}function L(d,s,p){const u=A(R(d.value));s=Math.max(0,l.indexOf(U),Math.min(u.length,s)),m=s,d.setSelectionRange(s,p,"forward")}const y={left(d,s){const p=l.slice(s-1).indexOf(U)===-1;let u=Math.max(0,s-1);for(;u>=0;u--)if(l[u]===U){s=u,p===!0&&s++;break}if(u<0&&l[s]!==void 0&&l[s]!==U)return y.right(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},right(d,s){const p=d.value.length;let u=Math.min(p,s+1);for(;u<=p;u++)if(l[u]===U){s=u;break}else l[u-1]===U&&(s=u);if(u>p&&l[s-1]!==void 0&&l[s-1]!==U)return y.left(d,p);d.setSelectionRange(s,s,"forward")},leftReverse(d,s){const p=w(d.value.length);let u=Math.max(0,s-1);for(;u>=0;u--)if(p[u-1]===U){s=u;break}else if(p[u]===U&&(s=u,u===0))break;if(u<0&&p[s]!==void 0&&p[s]!==U)return y.rightReverse(d,0);s>=0&&d.setSelectionRange(s,s,"backward")},rightReverse(d,s){const p=d.value.length,u=w(p),E=u.slice(0,s+1).indexOf(U)===-1;let q=Math.min(p,s+1);for(;q<=p;q++)if(u[q-1]===U){s=q,s>0&&E===!0&&s--;break}if(q>p&&u[s-1]!==void 0&&u[s-1]!==U)return y.leftReverse(d,p);d.setSelectionRange(s,s,"forward")}};function j(d){t("click",d),c=void 0}function Q(d){if(t("keydown",d),St(d)===!0||d.altKey===!0)return;const s=a.value,p=s.selectionStart,u=s.selectionEnd;if(d.shiftKey||(c=void 0),d.keyCode===37||d.keyCode===39){d.shiftKey&&c===void 0&&(c=s.selectionDirection==="forward"?p:u);const E=y[(d.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(d.preventDefault(),E(s,c===p?u:p),d.shiftKey){const q=s.selectionStart;s.setSelectionRange(Math.min(c,q),Math.max(c,q),"forward")}}else d.keyCode===8&&e.reverseFillMask!==!0&&p===u?(y.left(s,p),s.setSelectionRange(s.selectionStart,u,"backward")):d.keyCode===46&&e.reverseFillMask===!0&&p===u&&(y.rightReverse(s,u),s.setSelectionRange(p,s.selectionEnd,"forward"))}function A(d){if(d==null||d==="")return"";if(e.reverseFillMask===!0)return F(d);const s=r;let p=0,u="";for(let E=0;E<s.length;E++){const q=d[p],z=s[E];if(typeof z=="string")u+=z,q===z&&p++;else if(q!==void 0&&z.regex.test(q))u+=z.transform!==void 0?z.transform(q):q,p++;else return u}return u}function F(d){const s=r,p=l.indexOf(U);let u=d.length-1,E="";for(let q=s.length-1;q>=0&&u!==-1;q--){const z=s[q];let _=d[u];if(typeof z=="string")E=z+E,_===z&&u--;else if(_!==void 0&&z.regex.test(_))do E=(z.transform!==void 0?z.transform(_):_)+E,u--,_=d[u];while(p===q&&_!==void 0&&z.regex.test(_));else return E}return E}function R(d){return typeof d!="string"||f===void 0?typeof d=="number"?f(""+d):d:f(d)}function I(d){return o.length-d.length<=0?d:e.reverseFillMask===!0&&d.length!==0?o.slice(0,-d.length)+d:d+o.slice(d.length)}return{innerValue:g,hasMask:h,moveCursorForPaste:L,updateMaskValue:V,onMaskedKeydown:Q,onMaskedClick:j}}const kl={name:String};function xl(e){return b(()=>e.name||e.for)}function Sl(e,t){function n(){const a=e.modelValue;try{const l="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(o=>{l.items.add(o)}),{files:l.files}}catch{return{files:void 0}}}return b(()=>{if(e.type==="file")return n()})}const ql=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,_l=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,El=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ml=/[a-z0-9_ -]$/i;function Vl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(K.is.firefox===!0?Ml.test(n.data)===!1:ql.test(n.data)===!0||_l.test(n.data)===!0||El.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Fl=ge({name:"QInput",inheritAttrs:!1,props:{...gl,...wl,...kl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...hl,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:a}=J(),{$q:l}=a,o={};let r=NaN,f,m,c=null,h;const g=P(null),T=xl(e),{innerValue:k,hasMask:w,moveCursorForPaste:$,updateMaskValue:V,onMaskedKeydown:L,onMaskedClick:y}=Cl(e,t,_,g),j=Sl(e),Q=b(()=>Pe(k.value)),A=Vl(q),F=pl({changeEvent:!0}),R=b(()=>e.type==="textarea"||e.autogrow===!0),I=b(()=>R.value===!0||["text","search","url","tel","password"].includes(e.type)),d=b(()=>{const i={...F.splitAttrs.listeners.value,onInput:q,onPaste:E,onChange:v,onBlur:x,onFocus:fe};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=A,w.value===!0&&(i.onKeydown=L,i.onClick=y),e.autogrow===!0&&(i.onAnimationend=z),i}),s=b(()=>{const i={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:T.value,...F.splitAttrs.attributes.value,id:F.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return R.value===!1&&(i.type=e.type),e.autogrow===!0&&(i.rows=1),i});N(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),N(()=>e.modelValue,i=>{if(w.value===!0){if(m===!0&&(m=!1,String(i)===r))return;V(i)}else k.value!==i&&(k.value=i,e.type==="number"&&o.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete o.value));e.autogrow===!0&&W(M)}),N(()=>e.autogrow,i=>{i===!0?W(M):g.value!==null&&n.rows>0&&(g.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&W(M)});function p(){ze(()=>{const i=document.activeElement;g.value!==null&&g.value!==i&&(i===null||i.id!==F.targetUid.value)&&g.value.focus({preventScroll:!0})})}function u(){g.value!==null&&g.value.select()}function E(i){if(w.value===!0&&e.reverseFillMask!==!0){const D=i.target;$(D,D.selectionStart,D.selectionEnd)}t("paste",i)}function q(i){if(!i||!i.target)return;if(e.type==="file"){t("update:modelValue",i.target.files);return}const D=i.target.value;if(i.target.qComposing===!0){o.value=D;return}if(w.value===!0)V(D,!1,i.inputType);else if(_(D),I.value===!0&&i.target===document.activeElement){const{selectionStart:Y,selectionEnd:Z}=i.target;Y!==void 0&&Z!==void 0&&W(()=>{i.target===document.activeElement&&D.indexOf(i.target.value)===0&&i.target.setSelectionRange(Y,Z)})}e.autogrow===!0&&M()}function z(i){t("animationend",i),M()}function _(i,D){h=()=>{c=null,e.type!=="number"&&o.hasOwnProperty("value")===!0&&delete o.value,e.modelValue!==i&&r!==i&&(r=i,D===!0&&(m=!0),t("update:modelValue",i),W(()=>{r===i&&(r=NaN)})),h=void 0},e.type==="number"&&(f=!0,o.value=i),e.debounce!==void 0?(c!==null&&clearTimeout(c),o.value=i,c=setTimeout(h,e.debounce)):h()}function M(){requestAnimationFrame(()=>{const i=g.value;if(i!==null){const D=i.parentNode.style,{scrollTop:Y}=i,{overflowY:Z,maxHeight:C}=l.platform.is.firefox===!0?{}:window.getComputedStyle(i),H=Z!==void 0&&Z!=="scroll";H===!0&&(i.style.overflowY="hidden"),D.marginBottom=i.scrollHeight-1+"px",i.style.height="1px",i.style.height=i.scrollHeight+"px",H===!0&&(i.style.overflowY=parseInt(C,10)<i.scrollHeight?"auto":"hidden"),D.marginBottom="",i.scrollTop=Y}})}function v(i){A(i),c!==null&&(clearTimeout(c),c=null),h!==void 0&&h(),t("change",i.target.value)}function x(i){i!==void 0&&fe(i),c!==null&&(clearTimeout(c),c=null),h!==void 0&&h(),f=!1,m=!1,delete o.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=k.value!==void 0?k.value:"")})}function B(){return o.hasOwnProperty("value")===!0?o.value:k.value!==void 0?k.value:""}se(()=>{x()}),me(()=>{e.autogrow===!0&&M()}),Object.assign(F,{innerValue:k,fieldClass:b(()=>`q-${R.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:_,hasValue:Q,floatingLabel:b(()=>Q.value===!0&&(e.type!=="number"||isNaN(k.value)===!1)||Pe(e.displayValue)),getControl:()=>S(R.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...s.value,...d.value,...e.type!=="file"?{value:B()}:j.value}),getShadowControl:()=>S("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(R.value===!0?"":" text-no-wrap")},[S("span",{class:"invisible"},B()),S("span",e.shadowText)])});const O=yl(F);return Object.assign(a,{focus:p,select:u,getNativeElement:()=>g.value}),$e(a,"nativeEl",()=>g.value),O}}),Rl=ge({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=b(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>S(e.tag,{class:n.value},G(t.default))}});function Al(e,t,n){let a;function l(){a!==void 0&&(Ne.remove(a),a=void 0)}return se(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){a={condition:()=>n.value===!0,handler:t},Ne.add(a)}}}const Bl={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Tl=["beforeShow","show","beforeHide","hide"];function Pl({showing:e,canShow:t,hideOnRouteChange:n,handleShow:a,handleHide:l,processOnMount:o}){const r=J(),{props:f,emit:m,proxy:c}=r;let h;function g(y){e.value===!0?w(y):T(y)}function T(y){if(f.disable===!0||y!==void 0&&y.qAnchorHandled===!0||t!==void 0&&t(y)!==!0)return;const j=f["onUpdate:modelValue"]!==void 0;j===!0&&(m("update:modelValue",!0),h=y,W(()=>{h===y&&(h=void 0)})),(f.modelValue===null||j===!1)&&k(y)}function k(y){e.value!==!0&&(e.value=!0,m("beforeShow",y),a!==void 0?a(y):m("show",y))}function w(y){if(f.disable===!0)return;const j=f["onUpdate:modelValue"]!==void 0;j===!0&&(m("update:modelValue",!1),h=y,W(()=>{h===y&&(h=void 0)})),(f.modelValue===null||j===!1)&&$(y)}function $(y){e.value!==!1&&(e.value=!1,m("beforeHide",y),l!==void 0?l(y):m("hide",y))}function V(y){f.disable===!0&&y===!0?f["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!1):y===!0!==e.value&&(y===!0?k:$)(h)}N(()=>f.modelValue,V),n!==void 0&&Ht(r)===!0&&N(()=>c.$route.fullPath,()=>{n.value===!0&&e.value===!0&&w()}),me(()=>{V(f.modelValue)});const L={show:T,hide:w,toggle:g};return Object.assign(c,L),L}const $l={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Ol(e,t=()=>{},n=()=>{}){return{transitionProps:b(()=>{const a=`q-transition--${e.transitionShow||t()}`,l=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${a}-enter-from`,enterActiveClass:`${a}-enter-active`,enterToClass:`${a}-enter-to`,leaveFromClass:`${l}-leave-from`,leaveActiveClass:`${l}-leave-active`,leaveToClass:`${l}-leave-to`}}),transitionStyle:b(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}let zl=1,Ll=document.body;function Dl(e,t){const n=document.createElement("div");if(n.id=`q-portal--${t}--${zl++}`,Ue.globalNodes!==void 0){const a=Ue.globalNodes.class;a!==void 0&&(n.className=a)}return Ll.appendChild(n),n}function Il(e){e.remove()}const Ee=[],Hl=ge({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function Nl(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Ul(e,t,n,a){const l=P(!1),o=P(!1);let r=null;const f={},m=a==="dialog"&&Nl(e);function c(g){if(g===!0){We(f),o.value=!0;return}o.value=!1,l.value===!1&&(m===!1&&r===null&&(r=Dl(!1,a)),l.value=!0,Ee.push(e.proxy),fl(f))}function h(g){if(o.value=!1,g!==!0)return;We(f),l.value=!1;const T=Ee.indexOf(e.proxy);T!==-1&&Ee.splice(T,1),r!==null&&(Il(r),r=null)}return qt(()=>{h(!0)}),e.proxy.__qPortal=!0,$e(e.proxy,"contentEl",()=>t.value),{showPortal:c,hidePortal:h,portalIsActive:l,portalIsAccessible:o,renderPortal:()=>m===!0?n():l.value===!0?[S(_t,{to:r},S(Hl,n))]:void 0}}let de=0,Me,Ve,ce,Fe=!1,et,tt,lt,le=null;function jl(e){Ql(e)&&Oe(e)}function Ql(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=Et(e),n=e.shiftKey&&!e.deltaX,a=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),l=n||a?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const r=t[o];if(Kt(r,a))return a?l<0&&r.scrollTop===0?!0:l>0&&r.scrollTop+r.clientHeight===r.scrollHeight:l<0&&r.scrollLeft===0?!0:l>0&&r.scrollLeft+r.clientWidth===r.scrollWidth}return!0}function ot(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function be(e){Fe!==!0&&(Fe=!0,requestAnimationFrame(()=>{Fe=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:a}=document.scrollingElement;(ce===void 0||t!==window.innerHeight)&&(ce=n-t,document.scrollingElement.scrollTop=a),a>ce&&(document.scrollingElement.scrollTop-=Math.ceil((a-ce)/8))}))}function nt(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:a,overflowX:l}=window.getComputedStyle(t);Me=jt(window),Ve=Qt(window),et=t.style.left,tt=t.style.top,lt=window.location.href,t.style.left=`-${Me}px`,t.style.top=`-${Ve}px`,l!=="hidden"&&(l==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),a!=="hidden"&&(a==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,K.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",be,te.passiveCapture),window.visualViewport.addEventListener("scroll",be,te.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ot,te.passiveCapture))}K.is.desktop===!0&&K.is.mac===!0&&window[`${e}EventListener`]("wheel",jl,te.notPassive),e==="remove"&&(K.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",be,te.passiveCapture),window.visualViewport.removeEventListener("scroll",be,te.passiveCapture)):window.removeEventListener("scroll",ot,te.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=et,t.style.top=tt,window.location.href===lt&&window.scrollTo(Me,Ve),ce=void 0)}function Kl(e){let t="add";if(e===!0){if(de++,le!==null){clearTimeout(le),le=null;return}if(de>1)return}else{if(de===0||(de--,de>0))return;if(t="remove",K.is.ios===!0&&K.is.nativeMobile===!0){le!==null&&clearTimeout(le),le=setTimeout(()=>{nt(t),le=null},100);return}}nt(t)}function Yl(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,Kl(t))}}}const ae=[];let ue;function Zl(e){ue=e.keyCode===27}function Xl(){ue===!0&&(ue=!1)}function Wl(e){ue===!0&&(ue=!1,Mt(e,27)===!0&&ae[ae.length-1](e))}function mt(e){window[e]("keydown",Zl),window[e]("blur",Xl),window[e]("keyup",Wl),ue=!1}function Gl(e){K.is.desktop===!0&&(ae.push(e),ae.length===1&&mt("addEventListener"))}function at(e){const t=ae.indexOf(e);t!==-1&&(ae.splice(t,1),ae.length===0&&mt("removeEventListener"))}const re=[];function gt(e){re[re.length-1](e)}function Jl(e){K.is.desktop===!0&&(re.push(e),re.length===1&&document.body.addEventListener("focusin",gt))}function rt(e){const t=re.indexOf(e);t!==-1&&(re.splice(t,1),re.length===0&&document.body.removeEventListener("focusin",gt))}let we=0;const eo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},it={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},to=ge({name:"QDialog",inheritAttrs:!1,props:{...Bl,...$l,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Tl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:a}){const l=J(),o=P(null),r=P(!1),f=P(!1);let m=null,c=null,h,g;const T=b(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=Yl(),{registerTimeout:w}=tl(),{registerTick:$,removeTick:V}=Yt(),{transitionProps:L,transitionStyle:y}=Ol(e,()=>it[e.position][0],()=>it[e.position][1]),j=b(()=>y.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:Q,hidePortal:A,portalIsAccessible:F,renderPortal:R}=Ul(l,o,Z,"dialog"),{hide:I}=Pl({showing:r,hideOnRouteChange:T,handleShow:z,handleHide:_,processOnMount:!0}),{addToHistory:d,removeFromHistory:s}=Al(r,I,T),p=b(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${eo[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),u=b(()=>r.value===!0&&e.seamless!==!0),E=b(()=>e.autoClose===!0?{onClick:i}:{}),q=b(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${u.value===!0?"modal":"seamless"}`,a.class]);N(()=>e.maximized,C=>{r.value===!0&&O(C)}),N(u,C=>{k(C),C===!0?(Jl(Y),Gl(x)):(rt(Y),at(x))});function z(C){d(),c=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,O(e.maximized),Q(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),$(M)):V(),w(()=>{if(l.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:H,bottom:ie}=document.activeElement.getBoundingClientRect(),{innerHeight:De}=window,ke=window.visualViewport!==void 0?window.visualViewport.height:De;H>0&&ie>ke/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ke,ie>=De?1/0:Math.ceil(document.scrollingElement.scrollTop+ie-ke/2))),document.activeElement.scrollIntoView()}g=!0,o.value.click(),g=!1}Q(!0),f.value=!1,n("show",C)},e.transitionDuration)}function _(C){V(),s(),B(!0),f.value=!0,A(),c!==null&&(((C&&C.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),w(()=>{A(!0),f.value=!1,n("hide",C)},e.transitionDuration)}function M(C){ze(()=>{let H=o.value;if(H!==null){if(C!==void 0){const ie=H.querySelector(C);if(ie!==null){ie.focus({preventScroll:!0});return}}H.contains(document.activeElement)!==!0&&(H=H.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||H.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||H.querySelector("[autofocus], [data-autofocus]")||H,H.focus({preventScroll:!0}))}})}function v(C){C&&typeof C.focus=="function"?C.focus({preventScroll:!0}):M(),n("shake");const H=o.value;H!==null&&(H.classList.remove("q-animate--scale"),H.classList.add("q-animate--scale"),m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,o.value!==null&&(H.classList.remove("q-animate--scale"),M())},170))}function x(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&v():(n("escapeKey"),I()))}function B(C){m!==null&&(clearTimeout(m),m=null),(C===!0||r.value===!0)&&(O(!1),e.seamless!==!0&&(k(!1),rt(Y),at(x))),C!==!0&&(c=null)}function O(C){C===!0?h!==!0&&(we<1&&document.body.classList.add("q-body--dialog"),we++,h=!0):h===!0&&(we<2&&document.body.classList.remove("q-body--dialog"),we--,h=!1)}function i(C){g!==!0&&(I(C),n("click",C))}function D(C){e.persistent!==!0&&e.noBackdropDismiss!==!0?I(C):e.noShake!==!0&&v()}function Y(C){e.allowFocusOutside!==!0&&F.value===!0&&ht(o.value,C.target)!==!0&&M('[tabindex]:not([tabindex="-1"])')}Object.assign(l.proxy,{focus:M,shake:v,__updateRefocusTarget(C){c=C||null}}),se(B);function Z(){return S("div",{role:"dialog","aria-modal":u.value===!0?"true":"false",...a,class:q.value},[S(Ae,{name:"q-transition--fade",appear:!0},()=>u.value===!0?S("div",{class:"q-dialog__backdrop fixed-full",style:j.value,"aria-hidden":"true",tabindex:-1,onClick:D}):null),S(Ae,L.value,()=>r.value===!0?S("div",{ref:o,class:p.value,style:y.value,tabindex:-1,...E.value},G(t.default)):null)])}return R}}),Le={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},lo=Object.keys(Le);Le.all=!0;function ut(e){const t={};for(const n of lo)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Le:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const oo=["INPUT","TEXTAREA"];function st(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&oo.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function no(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),Vt.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function Re(e,t,n){const a=Be(e);let l,o=a.left-t.event.x,r=a.top-t.event.y,f=Math.abs(o),m=Math.abs(r);const c=t.direction;c.horizontal===!0&&c.vertical!==!0?l=o<0?"left":"right":c.horizontal!==!0&&c.vertical===!0?l=r<0?"up":"down":c.up===!0&&r<0?(l="up",f>m&&(c.left===!0&&o<0?l="left":c.right===!0&&o>0&&(l="right"))):c.down===!0&&r>0?(l="down",f>m&&(c.left===!0&&o<0?l="left":c.right===!0&&o>0&&(l="right"))):c.left===!0&&o<0?(l="left",f<m&&(c.up===!0&&r<0?l="up":c.down===!0&&r>0&&(l="down"))):c.right===!0&&o>0&&(l="right",f<m&&(c.up===!0&&r<0?l="up":c.down===!0&&r>0&&(l="down")));let h=!1;if(l===void 0&&n===!1){if(t.event.isFirst===!0||t.event.lastDir===void 0)return{};l=t.event.lastDir,h=!0,l==="left"||l==="right"?(a.left-=o,f=0,o=0):(a.top-=r,m=0,r=0)}return{synthetic:h,payload:{evt:e,touch:t.event.mouse!==!0,mouse:t.event.mouse===!0,position:a,direction:l,isFirst:t.event.isFirst,isFinal:n===!0,duration:Date.now()-t.event.time,distance:{x:f,y:m},offset:{x:o,y:r},delta:{x:a.left-t.event.lastX,y:a.top-t.event.lastY}}}}let ao=0;const ro=Ft({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(n.mouse!==!0&&K.has.touch!==!0)return;function a(o,r){n.mouse===!0&&r===!0?Oe(o):(n.stop===!0&&fe(o),n.prevent===!0&&oe(o))}const l={uid:"qvtp_"+ao++,handler:t,modifiers:n,direction:ut(n),noop:Rt,mouseStart(o){st(o,l)&&At(o)&&(he(l,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),l.start(o,!0))},touchStart(o){if(st(o,l)){const r=o.target;he(l,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","passiveCapture"],[r,"touchend","end","passiveCapture"]]),l.start(o)}},start(o,r){if(K.is.firefox===!0&&Se(e,!0),l.lastEvt=o,r===!0||n.stop===!0){if(l.direction.all!==!0&&(r!==!0||l.modifiers.mouseAllDir!==!0&&l.modifiers.mousealldir!==!0)){const c=o.type.indexOf("mouse")!==-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&oe(c),o.cancelBubble===!0&&fe(c),Object.assign(c,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[l.uid]:o.qClonedBy.concat(l.uid)}),l.initialEvent={target:o.target,event:c}}fe(o)}const{left:f,top:m}=Be(o);l.event={x:f,y:m,time:Date.now(),mouse:r===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:f,lastY:m}},move(o){if(l.event===void 0)return;const r=Be(o),f=r.left-l.event.x,m=r.top-l.event.y;if(f===0&&m===0)return;l.lastEvt=o;const c=l.event.mouse===!0,h=()=>{a(o,c);let k;n.preserveCursor!==!0&&n.preservecursor!==!0&&(k=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),c===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),no(),l.styleCleanup=w=>{if(l.styleCleanup=void 0,k!==void 0&&(document.documentElement.style.cursor=k),document.body.classList.remove("non-selectable"),c===!0){const $=()=>{document.body.classList.remove("no-pointer-events--children")};w!==void 0?setTimeout(()=>{$(),w()},50):$()}else w!==void 0&&w()}};if(l.event.detected===!0){l.event.isFirst!==!0&&a(o,l.event.mouse);const{payload:k,synthetic:w}=Re(o,l,!1);k!==void 0&&(l.handler(k)===!1?l.end(o):(l.styleCleanup===void 0&&l.event.isFirst===!0&&h(),l.event.lastX=k.position.left,l.event.lastY=k.position.top,l.event.lastDir=w===!0?void 0:k.direction,l.event.isFirst=!1));return}if(l.direction.all===!0||c===!0&&(l.modifiers.mouseAllDir===!0||l.modifiers.mousealldir===!0)){h(),l.event.detected=!0,l.move(o);return}const g=Math.abs(f),T=Math.abs(m);g!==T&&(l.direction.horizontal===!0&&g>T||l.direction.vertical===!0&&g<T||l.direction.up===!0&&g<T&&m<0||l.direction.down===!0&&g<T&&m>0||l.direction.left===!0&&g>T&&f<0||l.direction.right===!0&&g>T&&f>0?(l.event.detected=!0,l.move(o)):l.end(o,!0))},end(o,r){if(l.event!==void 0){if(xe(l,"temp"),K.is.firefox===!0&&Se(e,!1),r===!0)l.styleCleanup!==void 0&&l.styleCleanup(),l.event.detected!==!0&&l.initialEvent!==void 0&&l.initialEvent.target.dispatchEvent(l.initialEvent.event);else if(l.event.detected===!0){l.event.isFirst===!0&&l.handler(Re(o===void 0?l.lastEvt:o,l).payload);const{payload:f}=Re(o===void 0?l.lastEvt:o,l,!0),m=()=>{l.handler(f)};l.styleCleanup!==void 0?l.styleCleanup(m):m()}l.event=void 0,l.initialEvent=void 0,l.lastEvt=void 0}}};if(e.__qtouchpan=l,n.mouse===!0){const o=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";he(l,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}K.has.touch===!0&&he(l,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;n!==void 0&&(t.oldValue!==t.value&&(typeof value!="function"&&n.end(),n.handler=t.value),n.direction=ut(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;t!==void 0&&(t.event!==void 0&&t.end(),xe(t,"main"),xe(t,"temp"),K.is.firefox===!0&&Se(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchpan)}}),io=ge({name:"QSplitter",props:{...dt,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=J(),l=ct(e,a),o=P(null),r={before:P(null),after:P(null)},f=b(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(l.value===!0?" q-splitter--dark":"")),m=b(()=>e.horizontal===!0?"height":"width"),c=b(()=>e.reverse!==!0?"before":"after"),h=b(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function g(A){return(e.unit==="%"?A:Math.round(A))+e.unit}const T=b(()=>({[c.value]:{[m.value]:g(e.modelValue)}}));let k,w,$,V,L;function y(A){if(A.isFirst===!0){const R=o.value.getBoundingClientRect()[m.value];k=e.horizontal===!0?"up":"left",w=e.unit==="%"?100:R,$=Math.min(w,h.value[1],Math.max(h.value[0],e.modelValue)),V=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:a.lang.rtl===!0?-1:1)*(e.unit==="%"?R===0?0:100/R:1),o.value.classList.add("q-splitter--active");return}if(A.isFinal===!0){L!==e.modelValue&&n("update:modelValue",L),o.value.classList.remove("q-splitter--active");return}const F=$+V*(A.direction===k?-1:1)*A.distance[e.horizontal===!0?"y":"x"];L=Math.min(w,h.value[1],Math.max(h.value[0],F)),r[c.value].value.style[m.value]=g(L),e.emitImmediately===!0&&e.modelValue!==L&&n("update:modelValue",L)}const j=b(()=>[[ro,y,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Q(A,F){A<F[0]?n("update:modelValue",F[0]):A>F[1]&&n("update:modelValue",F[1])}return N(()=>e.modelValue,A=>{Q(A,h.value)}),N(()=>e.limits,()=>{W(()=>{Q(e.modelValue,h.value)})}),()=>{const A=[S("div",{ref:r.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:T.value.before},G(t.before)),S("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[Nt("div",{class:"q-splitter__separator-area absolute-full"},G(t.separator),"sep",e.disable!==!0,()=>j.value)]),S("div",{ref:r.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:T.value.after},G(t.after))];return S("div",{class:f.value,ref:o},Ut(t.default,A))}}}),uo={key:1},so=Bt({__name:"EditorPage",setup(e){const t=Xt(),n={automaticLayout:!0,formatOnType:!0,formatOnPaste:!0},a=P(`{
  "source": {
    "name": "donors",
    "source": "./data/example_donors.csv"
  },
  "representation": {
    "mark": "point",
    "mapping": [
      { "encoding": "y", "field": "height", "type": "quantitative" },
      { "encoding": "x", "field": "weight", "type": "quantitative" }
    ]
  }
}`),l=Tt();if(l.query.spec)try{a.value=Wt.decompressFromEncodedURIComponent(l.query.spec)}catch(k){console.error("Failed to decode spec from URL parameter:",k)}const o=Pt(),r=P(50);function f(k){o.value=k}const m=b(()=>JSON.parse(a.value)),c=b(()=>{try{return JSON.parse(a.value),""}catch(k){return k instanceof Error?k.message:"Error parsing specification."}}),h=b(()=>{try{return JSON.parse(a.value),!0}catch{return!1}}),g=P(!1),T=b(()=>t.getUrlWithCode(a.value,!0));return(k,w)=>{const $=Dt("vue-monaco-editor");return qe(),je($t,null,[X(Zt,{dense:"",flat:""},{default:ee(()=>[X(He,{dense:"",flat:"","no-caps":"",onClick:w[0]||(w[0]=V=>g.value=!0),icon:"share",label:"Share"}),X(to,{modelValue:g.value,"onUpdate:modelValue":w[3]||(w[3]=V=>g.value=V)},{default:ee(()=>[X(el,{style:{width:"100%"}},{default:ee(()=>[X(Rl,null,{default:ee(()=>[w[6]||(w[6]=Ot("div",{class:"text-h6"},"Copy Link To Example",-1)),X(Fl,{modelValue:T.value,"onUpdate:modelValue":w[1]||(w[1]=V=>T.value=V),readonly:"",filled:"",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),X(Jt,{align:"right"},{default:ee(()=>[X(He,{flat:"",label:"Close",onClick:w[2]||(w[2]=V=>g.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),X(Gt),X(ll,{class:"flex row"},{default:ee(()=>[X(io,{modelValue:r.value,"onUpdate:modelValue":w[5]||(w[5]=V=>r.value=V),class:"flex-grow-1 q-mt-lg"},{before:ee(()=>[X($,{value:a.value,"onUpdate:value":w[4]||(w[4]=V=>a.value=V),language:"json",theme:"vs-light",options:n,onMount:f},null,8,["value"])]),after:ee(()=>[h.value?(qe(),zt(ol,{key:0,spec:m.value},null,8,["spec"])):(qe(),je("div",uo,Lt(c.value),1))]),_:1},8,["modelValue"])]),_:1})],64)}}}),ko=nl(so,[["__scopeId","data-v-98ce7900"]]);export{ko as default};
